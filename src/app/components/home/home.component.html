<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediXCure Patient Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.96.0/dist/umd/lucide.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            lucide.createIcons();
        });
    </script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="min-h-screen bg-gradient-to-r from-blue-50 to-indigo-100">

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-indigo-600 to-blue-500 text-white shadow-lg">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <h1 class="text-4xl font-extrabold text-center md:text-left">MediXCure Patient Dashboard</h1>
            <p class="text-center md:text-left text-lg opacity-80">Manage your appointments, medicines, and
                prescriptions at ease</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="mt-8">
        <div class="max-w-5xl mx-auto py-6 px-4 sm:px-6 lg:px-8 space-y-10">

            <!-- Upcoming Appointments -->
            <div class="bg-white shadow-lg rounded-xl p-6 transform transition-transform duration-300">
                <div class="flex items-center justify-between">
                    <h3 class="text-2xl leading-6 font-bold text-gray-900 flex items-center">
                        <svg class="lucide lucide-calendar-days mr-3 text-indigo-500 w-8 h-8"
                            xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        Upcoming Appointments
                    </h3>
                </div>
                <p class="mt-2 text-gray-500">Your scheduled doctor visits</p>
                <div class="border-t border-gray-200 mt-4">
                    <ul class="divide-y divide-gray-200 mt-4">
                        @for (appo of this.myAppointments; track $index) {
                        <li class="bg-gray-50 p-4 rounded-md flex justify-between items-center">
                            <div>
                                <p class="font-semibold text-indigo-600 capitalize">{{'Dr. ' + appo.doctor?.first_name +
                                    ' ' +
                                    appo.doctor?.last_name}}</p>
                                <p class="text-gray-600">{{appo.doctor?.qualification}}</p>
                                <p class="text-sm text-gray-500">
                                    {{this.timeRemaining(appo.appointment_slot.start_time)}}</p>
                            </div>
                            <button class="bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-indigo-600">View
                                Details</button>
                        </li>
                        }
                    </ul>
                </div>
            </div>

            <!-- Medicines -->
            <div class="bg-white shadow-lg rounded-xl p-6 transform transition-transform duration-300">
                <div class="flex items-center justify-between">
                    <h3 class="text-2xl leading-6 font-bold text-gray-900 flex items-center">
                        <svg class="lucide lucide-pill mr-3 text-green-500 w-8 h-8" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M10.12 17.12L6.88 13.88a4 4 0 0 1 0-5.66l5.66-5.66a4 4 0 0 1 5.66 0l3.34 3.34a4 4 0 0 1 0 5.66l-5.66 5.66a4 4 0 0 1-5.66 0z">
                            </path>
                            <line x1="7.5" y1="7.5" x2="16.5" y2="16.5"></line>
                        </svg>
                        Medicines
                    </h3>
                </div>
                <p class="mt-2 text-gray-500">Your current medications</p>
                <div class="border-t border-gray-200 mt-4">
                    <ul class="divide-y divide-gray-200 mt-4">
                        @for (med of this.myMedicines; track $index) {
                        <li class="bg-gray-50 p-4 rounded-md flex justify-between items-center">
                            <div>
                                <p class="font-semibold text-green-600">{{med.medicine_name}}</p>
                                <p class="text-gray-600">Dosage: {{med.dosage}}</p>
                                <p class="text-sm text-gray-500">{{med.frequency}}</p>
                            </div>
                            <button class="bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600">More
                                Info</button>
                        </li>
                        }
                    </ul>
                </div>
            </div>

            <!-- Prescriptions -->
            <div class="bg-white shadow-lg rounded-xl p-6 transform transition-transform duration-300">
                <div class="flex items-center justify-between">
                    <h3 class="text-2xl leading-6 font-bold text-gray-900 flex items-center">
                        <svg class="lucide lucide-file-text mr-3 text-yellow-500 w-8 h-8"
                            xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        Prescriptions
                    </h3>
                </div>
                <p class="mt-2 text-gray-500">Your recent prescriptions</p>
                <div class="border-t border-gray-200 mt-4">
                    <ul class="divide-y divide-gray-200 mt-4">
                        @for (p of this.myPrescriptions; track $index) {
                        <li class="bg-gray-50 p-4 rounded-md flex justify-between items-center">
                            <div>
                                <p class="font-semibold capitalize text-yellow-600">{{'dr. ' + p.doctor.first_name +
                                    ' ' +
                                    p.doctor.last_name}}</p>
                                <p class="text-gray-600">{{this.formatDate(p.date)}}</p>
                                <p class="text-sm text-gray-500">{{p.notes}}</p>
                            </div>
                            <button class="bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600">View
                                Prescription</button>
                        </li>
                        }
                    </ul>
                </div>
            </div>

        </div>
    </main>
</body>

</html>